<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	 <title>지연 어플리케이션 관리</title>
	 <meta name="viewport" content="width=device-width, initial-scale=1.0">
	 <meta name="description" content="A fully responsive premium admin dashboard template, Real Estate Management Admin Template" />
	 <meta name="author" content="Techzaa" />
	 <meta http-equiv="X-UA-Compatible" content="IE=edge" />
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!--	 <script src="/js/index.js"></script>-->
	     
</head>
<body>
	<table class="table table-striped table-centered">
				<thead>
					<tr>
						<th scope="col">타임스탬프</th> <!-- 로그가 저장된 시간 -->
						<th scope="col">추적ID</th> <!-- 추적 아이디 -->
						<th scope="col">IP주소</th> <!-- IP주소 -->
						<th scope="col">종류</th> <!-- SQL 또는 PAGE -->
						<th scope="col">URI/포트</th> <!-- 느린 uri 출력 -->
						<th scope="col">소요시간(ms)</th> <!-- 실행 시간 출력 -->
						<th scope="col">사용자ID</th> <!-- 사용자 아이디 -->
					</tr>
				</thead>
				<tbody id="logTableBody">
					<tr th:each="log : ${logList}">
						<!-- 타임스탬프 -->
						<td th:text="${log.timestmp}"></td>
						<!-- 추적 ID -->
		                <td class="text-start trace-id">
		                    <span th:if="${log.traceId != null}">
		                        <a th:href="'/admin/trace?traceId=' + ${log.traceId}" target="_blank" th:text="${log.traceId}"></a>
		                    </span>
		                    <span th:unless="${log.traceId != null}">N/A</span>
		                </td>
		                <!-- IP주소 -->
		                <td class="text-start ip-address">
		                	<span th:if="${log.ipAddress != null}" th:text="${log.ipAddress}"></span>
		                    <span th:unless="${log.ipAddress != null}">N/A</span>
		                </td>
		                <!-- 종류 -->
						<td>
							<span th:if="${log.callerClass == 'SQL'}" th:text="${log.callerClass}"></span>
							<span th:unless="${log.callerClass == 'SQL'}" th:text="${log.callerMethod}"></span>
						</td>
		                <!-- URI/쿼리 -->
		                <td>
		                    <span th:if="${log.uri != null}" th:text="${log.uri}"></span>
		                    <span th:if="${log.query != null}" th:text="${log.query}"></span>
		                </td>
						<!-- 소요시간 -->
						<td th:text="${log.executeResult}"></td>
						<!-- 사용자 ID -->
						<td th:text="${log.userId}"></td>
					</tr>
				</tbody>
			</table>
</body>
</html>
